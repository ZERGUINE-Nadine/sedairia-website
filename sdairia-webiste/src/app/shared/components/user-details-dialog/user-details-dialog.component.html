<div class="fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50">
  <div class="bg-white rounded-lg shadow-lg p-6 w-full max-w-md mx-auto">
    <h2 class="text-2xl font-semibold text-gray-700 mb-4 text-center">Create User</h2>

    <form class="space-y-4" [formGroup]="userDetailsForm">
      <!-- Full Name Field -->
      <div>
        <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
        <input
          formControlName="fullName"
          type="text" id="fullName" class="w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500" placeholder="Enter full name" />
        <div *ngIf="userDetailsForm.get('fullName')?.invalid && userDetailsForm.get('fullName')?.touched" class="text-red-500 text-sm mt-1">
          Full name is required.
        </div>
      </div>

      <div>
        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
        <input
          formControlName="email"
          type="email" id="email" class="w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500" placeholder="Enter email" />
        <div *ngIf="userDetailsForm.get('email')?.invalid && userDetailsForm.get('email')?.touched" class="text-red-500 text-sm mt-1">
          <span *ngIf="userDetailsForm.get('email')?.errors?.['required']">Email is required.</span>
          <span *ngIf="userDetailsForm.get('email')?.errors?.['email']">Please enter a valid email.</span>
        </div>
      </div>

      <div>
        <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
        <input
          [disabled]="isEditMode" placeholder="{{isEditMode ? '******' : '********'}}"
          formControlName="password"
          type="password" id="password" class="w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500" placeholder="********" />
        <div *ngIf="userDetailsForm.get('password')?.invalid && userDetailsForm.get('password')?.touched" class="text-red-500 text-sm mt-1">
          <span *ngIf="userDetailsForm.get('password')?.errors?.['required']">Password is required.</span>
          <span *ngIf="userDetailsForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters long.</span>
        </div>
      </div>

      <div>
        <label for="role" class="block text-sm font-medium text-gray-700 mb-1">Role</label>
        <select
          formControlName="role"
          id="role" class="w-full px-4 py-2 border rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500">
          <option value="user">Utilisateur</option>
          <option value="admin">Admin</option>
        </select>
        <div *ngIf="userDetailsForm.get('role')?.invalid && userDetailsForm.get('role')?.touched" class="text-red-500 text-sm mt-1">
          Role is required.
        </div>
      </div>

      <div class="flex justify-end space-x-4 mt-4">
        <button
          (click)="onCancel()"
          type="button" class="px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition ease-in-out">
          Annuler
        </button>

        <button
          (click)="onConfirm()"
          type="submit" [disabled]="userDetailsForm.invalid" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition ease-in-out disabled:bg-gray-300 disabled:cursor-not-allowed">
          {{ data === null ? 'Cr√©er' : 'Modifier' }}
        </button>
      </div>
    </form>
  </div>
</div>
